0 info it worked if it ends with ok
1 verbose cli [ '/Users/javinambridge/.nvm/versions/node/v7.6.0/bin/node',
1 verbose cli   '/Users/javinambridge/.nvm/versions/node/v7.6.0/bin/npm',
1 verbose cli   'publish',
1 verbose cli   '--access',
1 verbose cli   'public' ]
2 info using npm@4.1.2
3 info using node@v7.6.0
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec Result {
7 silly cache add   raw: '.',
7 silly cache add   scope: null,
7 silly cache add   escapedName: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/Users/javinambridge/Documents/reddit-marketer/reddit-snooper-v2',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package.tgz not in flight; packing
9 verbose correctMkdir /Users/javinambridge/.npm correctMkdir not in flight; initializing
10 info lifecycle reddit-wrapper-v2@1.1.3~prepublish: reddit-wrapper-v2@1.1.3
11 silly lifecycle reddit-wrapper-v2@1.1.3~prepublish: no script for prepublish, continuing
12 info lifecycle reddit-wrapper-v2@1.1.3~prepare: reddit-wrapper-v2@1.1.3
13 silly lifecycle reddit-wrapper-v2@1.1.3~prepare: no script for prepare, continuing
14 verbose tar pack [ '/Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package.tgz',
14 verbose tar pack   '/Users/javinambridge/Documents/reddit-marketer/reddit-snooper-v2' ]
15 verbose tarball /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package.tgz
16 verbose folder /Users/javinambridge/Documents/reddit-marketer/reddit-snooper-v2
17 verbose addLocalTarball adding from inside cache /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package.tgz
18 verbose correctMkdir /Users/javinambridge/.npm correctMkdir not in flight; initializing
19 silly cache afterAdd reddit-wrapper-v2@1.1.3
20 verbose afterAdd /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package/package.json not in flight; writing
21 verbose correctMkdir /Users/javinambridge/.npm correctMkdir not in flight; initializing
22 verbose afterAdd /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package/package.json written
23 silly publish { name: 'reddit-wrapper-v2',
23 silly publish   version: '1.1.3',
23 silly publish   description: 'Simple Reddit API framework for nodejs. Replacing the no longer updated reddit-snooper. Relying more on promises rather than callbacks. Nicely handles multiple reddit errors.',
23 silly publish   main: 'reddit-wrapper.js',
23 silly publish   dependencies: { bluebird: '^3.5.1', nock: '^10.0.6', request: '^2.81.0' },
23 silly publish   devDependencies: { mocha: '^3.3.0', should: '^11.2.1' },
23 silly publish   repository:
23 silly publish    { type: 'git',
23 silly publish      url: 'git+https://github.com/Javin-Ambridge/reddit-wrapper.git' },
23 silly publish   scripts: { test: 'mocha test' },
23 silly publish   author: { name: 'Javin Ambridge' },
23 silly publish   license: 'ISC',
23 silly publish   keywords:
23 silly publish    [ 'promise',
23 silly publish      'reddit',
23 silly publish      'api',
23 silly publish      'wrapper',
23 silly publish      'error-handling',
23 silly publish      'auto-retries',
23 silly publish      'auto-delay' ],
23 silly publish   readme: '\n\n# Reddit-Wrapper-V2 - Reddit API framework for Nodejs\n\n[![npm package](https://nodei.co/npm/reddit-wrapper-v2.png?downloads=true&downloadRank=true&stars=true)](https://nodei.co/npm/reddit-wrapper-v2/)\n\n## Simple to use\nReddit-Wrapper is designed to be a simple to user reddit API wrapper, while also providing robust error handling and retry capabilities. Every function returns a promise. Allowing the user to easily handle errors in the catch, and results in the then.\n\nThis wrapper also has a lot of error handling functionality. As Reddit sometimes errors out in strange ways (random 403\'s, "You are doing this too much...") handling it within this wrapper allows users to focus on non reddit functionality. Find below all the error handling strategies you can opt into. By default **no** error handling options are enabled except for automatic 403 retries.\n\nSimple API usage:\n\n``` js\n\treddit.api.get("/subreddits/mine/subscriber", {\n\t\t\tlimit: 2,\n\t}) \n    .then(function(response) {\n\t    let responseCode = response[0];\n\t    let responseData = response[1];\n\n\t\tconsole.log("Received response (" + responseCode + "): ", responseData);\n\t})\n\t.catch(function(err) {\n\t});\n```\n\n\n## Table of Contents\n- [Setup and Configuration](#setup-and-configuration)\n- [Api](#reddit-api-snooperapi)\n\n## Setup and Configuration\n### Installing reddit-snooper\n``` bash\nnpm install reddit-wrapper-v2 --save\n```\n\n### Library usage and configuration\n``` js\nvar RedditAPI = require(\'reddit-wrapper\');\n\nvar redditConn = new RedditAPI(\n        {\n            // Options for Reddit Wrapper\n            username: \'reddit_username\',\n            password: \'reddit password\',\n            app_id: \'reddit api app id\',\n            api_secret: \'reddit api secret\',\n            user_agent: \'user agent for your bot\',\n\t\t\tretry_on_wait: true,\n\t\t\tretry_on_server_error: 5,\n\t\t\tretry_delay: 1,\n\t\t\tlogs: true\n        })\n```\n\n### Reddit API Options \n\n| Option Name           | Option Default    | Description                                                                                                                                                        | Required |\n|-----------------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|\n| username              | null              | The Username for the Reddit Account.                                                                                                                               | True     |\n| password              | null              | The Password for the Reddit Account.                                                                                                                               | True     |\n| app_id                | null              | The Reddit Application ID.                                                                                                                                         | True     |\n| api_secret            | null              | The Reddit Application Secret.                                                                                                                                     | True     |\n| logs                  | False             | Display logs.                                                                                                                                                      | False    |\n| user_agent            | Reddit-Watcher-V2 | The User Agent for all Reddit API requests.                                                                                                                        | False    |\n| retry_on_wait         | False             | If True and Reddit returns a "You are trying this too much" error, it will pause the process for the exact time needed, then retry the request.                    | False    |\n| retry_on_server_error | 0                 | If > 0 and Reddit returns a server error (responseCode >= 500 && responseCode <= 599) it will retry the request the number of times you specify + 1 automatically. | False    |\n| retry_delay           | 5 sec.            | Specifies the retry delay for server error retries. (IE. if server error and you specify you want to retry before retrying it will delay for retry_delay seconds.) | False    |\n\n### API setup \nAll you need to get up and running is obtain an api_id and an api_secret. Both can be created on the [Reddit app console](https://reddit.com/prefs/apps)\n1. Create (or log into) a reddit account\n2. Navigate to the [authorized applications console](https://reddit.com/prefs/apps)\n3. Select \'create another app...\' at the bottom\n4. Fill in the name, description and click on \'script\', put in anything for the redirect uri, its not needed and you can change it later if you want to\n5. Copy down the \'secret\' that is your api_secret, the 14 character string by the name of your app is your app_id\n6. Use these values and your credentials to configure the snooper\n\n## Reddit API (api)\n\nReddit Wrappers api component is an agnostic wrapper around Reddit\'s rest API that handles retries, and Reddit\'s different response codes.\n\nIn order to use the api head over to the [Reddit API Documentation](https://www.reddit.com/dev/api/). All of the api methods use one of the 5 HTTP methods (GET, POST, PATCH, PUT, DELETE) which map to the 5 different snooper.api methods. \n\n``` js\n// endpoint: api endpoint ex: \'api/v1/me\' or \'/api/v1/me/karma/\' (listed on api documentation)\n// data: JSON data, dependent on the request which is specified in the docs\n// NOTE: the function .get is used for api calls that use HTTP GET, you can find the method each api endpiont uses on (you guessed it) the reddit api docs\n\n// HTTP GET\nredditWrapper.api.get(endpoint, data)\n.then(function(response) {\n\tlet responseCode = response[0];\n\tlet responseData = response[1];\n\n\tconsole.log("Received response (" + responseCode + "): ", responseData);\n})\n.catch(function(err) {\n\treturn console.error("api request failed: " + err)\n});\n    \n// HTTP POST\nredditWrapper.api.post(endpoint, data)\n.then(function(response) {})\n.catch(function(err) {})\n\n// HTTP PATCH\nredditWrapper.api.patch(endpoint, data)\n.then(function(response) {})\n.catch(function(err) {})\n\n// HTTP PUT\nredditWrapper.api.put(endpoint, data)\n.then(function(response) {})\n.catch(function(err) {})\n\n// HTTP DELETE\nredditWrapper.api.delete(endpoint, data)\n.then(function(response) {})\n.catch(function(err) {})\n\n// gets an api token \nredditWrapper.api.get_token()\n.then(function(token) {})\n.catch(function(err) {})\n\n```\n\n*Note: new accounts get little to no posting privileges (1 comment or post per 5 minutes or more) if you dont have any karma. If you just want to play around with the api I recommend using an active account.*\n*Note: the response from any HTTP methods will be an array containing [responseCode, data].*\n*Note: Any 403 that occurs during a retry process will cause a token refresh and a endpoint retry.*\n\n\n### basic api usage\n\ncheck how much karma your bot has\n``` js\nredditWrapper.api.get(\'api/v1/me/karma\', {})\n.then(function(resp) {\n\tlet responseCode = response[0];\n\tlet responseData = response[1];\n    console.log("I have " + responseData.karma + " karma")\n})\n.catch(function(err) {\n\tconsole.log("Error getting karma: ", err);\n})\n```\n\npost a comment\n``` js\nredditWrapper.api.post("/api/comment", {\n    api_type: "json",\n    text:     "Hello World"\n    thing_id: comment.data.name\n})\n.then(function(resp) {\n\tlet responseCode = response[0];\n\tlet responseData = response[1];\n\t\n\tconsole.log("Posted comment!");\n})\n.catch(function(err) {\n\tconsole.log("Error posting comment: ", err);\n})\n\n```\n\n\n## Final Notes\n- This was largely based on the reddit-snooper library. However that is no longer maintained.\n- This relies on Bluebird promises.\n- Feel free to make feature requests, bugs, etc. I will try to be as prompt at fixing/getting back to you.',
23 silly publish   readmeFilename: 'README.md',
23 silly publish   gitHead: '8b889a1992bc4e2752a71d895d716fe3d5b35a5e',
23 silly publish   bugs: { url: 'https://github.com/Javin-Ambridge/reddit-wrapper/issues' },
23 silly publish   homepage: 'https://github.com/Javin-Ambridge/reddit-wrapper#readme',
23 silly publish   _id: 'reddit-wrapper-v2@1.1.3',
23 silly publish   _shasum: '5d6ca7d0550b3ae37fc66279b7b3e6382087527e',
23 silly publish   _from: '.' }
24 info lifecycle reddit-wrapper-v2@1.1.3~prepublishOnly: reddit-wrapper-v2@1.1.3
25 silly lifecycle reddit-wrapper-v2@1.1.3~prepublishOnly: no script for prepublishOnly, continuing
26 verbose getPublishConfig undefined
27 silly mapToRegistry name reddit-wrapper-v2
28 silly mapToRegistry using default registry
29 silly mapToRegistry registry https://registry.npmjs.org/
30 silly mapToRegistry data Result {
30 silly mapToRegistry   raw: 'reddit-wrapper-v2',
30 silly mapToRegistry   scope: null,
30 silly mapToRegistry   escapedName: 'reddit-wrapper-v2',
30 silly mapToRegistry   name: 'reddit-wrapper-v2',
30 silly mapToRegistry   rawSpec: '',
30 silly mapToRegistry   spec: 'latest',
30 silly mapToRegistry   type: 'tag' }
31 silly mapToRegistry uri https://registry.npmjs.org/reddit-wrapper-v2
32 verbose publish registryBase https://registry.npmjs.org/
33 silly publish uploading /Users/javinambridge/.npm/reddit-wrapper-v2/1.1.3/package.tgz
34 verbose request uri https://registry.npmjs.org/reddit-wrapper-v2
35 verbose request sending authorization for write operation
36 info attempt registry request try #1 at 7:33:16 PM
37 verbose request using bearer token for auth
38 verbose request id ace5dd2c806d10f5
39 http request PUT https://registry.npmjs.org/reddit-wrapper-v2
40 http 403 https://registry.npmjs.org/reddit-wrapper-v2
41 verbose headers { date: 'Wed, 06 Feb 2019 00:33:18 GMT',
41 verbose headers   'content-type': 'application/json',
41 verbose headers   'transfer-encoding': 'chunked',
41 verbose headers   connection: 'keep-alive',
41 verbose headers   'set-cookie': [ '__cfduid=d855bd5082a6446fa74b5b51326c48d271549413197; expires=Thu, 06-Feb-20 00:33:17 GMT; path=/; domain=.registry.npmjs.org; HttpOnly' ],
41 verbose headers   'cf-ray': '4a498641ec50ca96-YYZ',
41 verbose headers   'expect-ct': 'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
41 verbose headers   vary: 'Accept-Encoding',
41 verbose headers   server: 'cloudflare',
41 verbose headers   'content-encoding': 'gzip' }
42 verbose request invalidating /Users/javinambridge/.npm/registry.npmjs.org/reddit-wrapper-v2 on PUT
43 error publish Failed PUT 403
44 verbose stack Error: You cannot publish over the previously published versions: 1.1.3. : reddit-wrapper-v2
44 verbose stack     at makeError (/Users/javinambridge/.nvm/versions/node/v7.6.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:304:12)
44 verbose stack     at CachingRegistryClient.<anonymous> (/Users/javinambridge/.nvm/versions/node/v7.6.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:292:14)
44 verbose stack     at /Users/javinambridge/.nvm/versions/node/v7.6.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:218:7
44 verbose stack     at Gunzip.onEnd (zlib.js:213:5)
44 verbose stack     at emitNone (events.js:91:20)
44 verbose stack     at Gunzip.emit (events.js:186:7)
44 verbose stack     at endReadableNT (_stream_readable.js:974:12)
44 verbose stack     at _combinedTickCallback (internal/process/next_tick.js:74:11)
44 verbose stack     at process._tickCallback (internal/process/next_tick.js:98:9)
45 verbose statusCode 403
46 verbose pkgid reddit-wrapper-v2
47 verbose cwd /Users/javinambridge/Documents/reddit-marketer/reddit-snooper-v2
48 error Darwin 17.7.0
49 error argv "/Users/javinambridge/.nvm/versions/node/v7.6.0/bin/node" "/Users/javinambridge/.nvm/versions/node/v7.6.0/bin/npm" "publish" "--access" "public"
50 error node v7.6.0
51 error npm  v4.1.2
52 error code E403
53 error You cannot publish over the previously published versions: 1.1.3. : reddit-wrapper-v2
54 error If you need help, you may report this error at:
54 error     <https://github.com/npm/npm/issues>
55 verbose exit [ 1, true ]
